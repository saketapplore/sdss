<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script>
      class List {
        constructor(data) {
          this.head = {
            value: data,
            next: null,
          };
          this.tail = this.head;
          this.size = 1;
        }
        appendNode(nodeData) {
          let newNode = {
            value: nodeData,
            next: null,
          };
          this.tail.next = newNode;
          this.tail = newNode;
          this.size += 1;
        }
        traversing() {
          let counter = 0;
          let currentNode = this.head;
          while (counter < this.size) {
            console.warn(currentNode);
            currentNode = currentNode.next;
            counter++;
          }
        }
        deleteNode(index) {
          if (index < 1 || index > this.size) {
            console.warn("Invalid index");
            return;
          }

          let counter = 1;
          let lead = this.head;

          // DELETE HEAD
          if (index === 1) {
            this.head = this.head.next;

            // if list becomes empty
            if (this.size === 1) {
              this.tail = this.head;
            }
          } else {
            // move lead to node before the deleting node
            while (counter < index - 1) {
              lead = lead.next;
              counter++;
            }

            let deletingNode = lead.next;
            let nextNode = deletingNode.next;

            lead.next = nextNode;

            // updating tail if last node deleted
            if (index === this.size) {
              this.tail = lead;
            }
          }

          this.size--; // FIXED
        }
        insert(index , value){
            let counter = 1;
            let currentNode = this.head;
            while(counter<index-1){
                    counter ++;
                    currentNode = currentNode.next;
            }
            let nextNode = currentNode.next;
            currentNode.next = {
                value:value,
                next: nextNode
            }
        }
      }
      let list = new List(200);
      list.appendNode(400);
      list.appendNode(500);
      list.appendNode(600);
      list.appendNode(700);
    //   list.deleteNode(4);
    //   list.traversing();
    list.insert(2 , 4000);
    console.warn(list)
    </script>
  </head>
  <body></body>
</html>
